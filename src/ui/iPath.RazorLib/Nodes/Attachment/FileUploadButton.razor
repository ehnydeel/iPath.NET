@namespace iPath.Blazor.Componenents.Nodes
@using iPath.Domain.Config
@inject IOptions<iPathClientConfig> opts

<MudFileUpload T="IReadOnlyList<IBrowserFile>" OnFilesChanged="StartUpload"
               MaxFileSize="opts.Value.MaxFileSizeBytes" MaximumFileCount="@MaximumFileCount">
    <ActivatorContent>
        @if (uploading)
        {
            <MudProgressCircular Value="@progress" StrokeWidth="4" Size="Size.Medium">
                <ChildContent>
                    <MudText Typo="Typo.body2">@progText</MudText>
                </ChildContent>
            </MudProgressCircular>
        }
        else
        {
            <MudIconButton Icon="@Icon" Disabled="@Disabled" />
        }
    </ActivatorContent>
</MudFileUpload>