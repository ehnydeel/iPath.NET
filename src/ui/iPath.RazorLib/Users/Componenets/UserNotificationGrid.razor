@namespace iPath.Blazor.Componenents.Users

@inject IStringLocalizer T


<MudTable Items="Items" Dense="true" Elevation="0" CustomHeader="true">
    <HeaderContent>
        <MudTHeadRow IgnoreCheckbox="true" Class="ipath_table">
            <MudTh>@T["Group"]</MudTh>
            <MudTh colspan="2" Style="border-left: 1px solid;">@T["Notify as"]</MudTh>
            <MudTh colspan="4" Style="border-left: 1px solid;">@T["Notify on"]</MudTh>
        </MudTHeadRow>
        <MudTHeadRow IgnoreCheckbox="true" Class="ipath_table" Style="font-style: italic">
            <MudTh></MudTh>
            <MudTh Style="border-left: 1px solid;">@T["In App"]</MudTh>
            <MudTh>@T["Email"]</MudTh>
            <MudTh Style="border-left: 1px solid;">@T["New case"]</MudTh>
            <MudTh>@T["Annotation on any case"]</MudTh>
            <MudTh>@T["Annotation on my case"]</MudTh>
            <MudTh></MudTh>
        </MudTHeadRow>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Group">@context.Groupname</MudTd>
        <MudTd DataLabel="InApp" Style="border-left: 1px solid;"><MudCheckBox @bind-Value="@context.InApp" /></MudTd>
        <MudTd DataLabel="Email"><MudCheckBox @bind-Value="@context.Email" /></MudTd>
        <MudTd DataLabel="NewCase" Style="border-left: 1px solid;"><MudCheckBox @bind-Value="@context.NewCase" /></MudTd>
        <MudTd DataLabel="NewAnnotation"><MudCheckBox @bind-Value="@context.NewAnnotation" /></MudTd>
        <MudTd DataLabel="NewAnnotationOnMyCase"><MudCheckBox @bind-Value="@context.NewAnnotationOnMyCase" /></MudTd>
        <MudTd>
            <MudIconButton Icon="@context.SettingsIcon" Size="Size.Small" OnClick=@(() => ShowBodySiteFilter(context)) />
        </MudTd>
    </RowTemplate>
</MudTable>


<MudStack Row Class="mt-8">
    <ProgressButton ProcessingText=@T["saving ..."] OnClick="Save" Text=@T["Save"]
                    Color="@SaveButtonColor" Icon="@Icons.Material.Filled.Save" />
    <MudButton Variant="Variant.Filled" Href="admin/users">@CancelText</MudButton>
</MudStack>