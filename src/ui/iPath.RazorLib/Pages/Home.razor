@page "/"
@using iPath.Application.Features
@using iPath.Application.Features.ServiceRequests
@using iPath.Application.Features.Users
@using iPath.Blazor.Componenents.Shared.Lookups

<PageTitle>iPath.NET</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">iPath.NET</MudText>


<AuthorizeView>
    <NotAuthorized>
        @if (RendererInfo.IsInteractive)
        {
            <MudButton StartIcon="@Icons.Material.Filled.Login" Href="Account/Login" Variant="Variant.Filled" Color="Color.Primary">@T["Login"]</MudButton>
            <MudButton StartIcon="@Icons.Material.Filled.Person" Href="Account/Register" Variant="Variant.Filled" Color="Color.Primary">@T["Sign Up"]</MudButton>
        }
        else
        {
            <div>
                <MudProgressCircular Indeterminate="true" Color="Color.Primary" Size="Size.Medium" />
                loading ...
            </div>
        }

        <NewsBlock Class="mt-5" />
    </NotAuthorized>

    <Authorized>
        <MudPaper Width="100%" Elevation="0">
            <MudGrid>
                <MudItem xs="12" sm="6">
                    @if (RendererInfo.IsInteractive)
                    {
                        @if (ShowProfileCompletion)
                        {
                            <MudAlert Severity="Severity.Warning" Class="my-8 px-8">
                                <MudText Typo="Typo.body1">
                                    @T["You have not yet completed your Profile. Please fill in your data"]
                                </MudText>
                                <MudButton Class="mt-2" StartIcon="@Icons.Material.Filled.Person" Href="user/profile" Variant="Variant.Filled" Color="Color.Secondary">@T["My Profile"]</MudButton>
                            </MudAlert>
                        }
                        @if (ShowUserLinks)
                        {
                            <MudCard>
                                <MudCardHeader Class="mud-theme-info">
                                    <MudText Typo="Typo.subtitle2">Recent activity</MudText>
                                </MudCardHeader>
                                <MudCardContent>
                                    <div>more to come here ....</div>
                                    <MudNavMenu>
                                        <MudNavLink Href="user/groups" Icon="@Icons.Material.Filled.Groups">My Groups</MudNavLink>
                                        <MudNavLink Href="user/cases" Icon="@Icons.Material.Filled.Folder">My Cases</MudNavLink>
                                    </MudNavMenu>
                                </MudCardContent>
                            </MudCard>
                        }
                    }
                    else
                    {
                        <div>
                            <MudProgressCircular Indeterminate="true" Color="Color.Primary" Size="Size.Medium" />
                            loading ...
                        </div>
                    }
                </MudItem>
                <MudItem xs="12" sm="6">
                    <NewsBlock />
                </MudItem>
            </MudGrid>
        </MudPaper>

    </Authorized>
</AuthorizeView>



<!--
<TopoLookup Class="mb-10" Variant="Variant.Outlined" />
-->

<MudText Typo="Typo.h6" Class="mt-15" GutterBottom="true">Version Information</MudText>

<MudText>
    This iPath.NET software was written in .NET 10 Framework with the help of
    <MudLink Href="https://mudblazor.com/" Target="_blank">MudBlazor UI components</MudLink>,
    and the <MudLink Href="https://lhncbc.nlm.nih.gov/LHC-research/LHC-projects/health-information/lhc-forms.html" Target="_blank">LHC-Forms Widget from NLM</MudLink>.
</MudText>


<MudText Class="mt-2">
    Source Code published under MIT License on GitHub:
    <MudLink Href="https://github.com/brauchlik/iPath.NET" Target="_blank">iPath.NET</MudLink>
</MudText>

