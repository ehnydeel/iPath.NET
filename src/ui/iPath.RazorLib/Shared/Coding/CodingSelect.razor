<MudSelect T="CodeDisplay" ToStringFunc=@(x => x.ToDisplay())
           @bind-Value="Value" @bind-Value:after="OnValueChanged"
           Label="@Label" Variant="@Variant"
           Dense="@Dense" ShrinkLabel="@ShrinkLabel" Margin="@Margin">
    @if (Items is not null)
    {
        @foreach (var c in Items)
        {
            <MudSelectItem Value="c" />
        }
    }
</MudSelect>

@code {
    [Parameter]
    public IEnumerable<CodeDisplay> Items { get; set; } = [];

    [Parameter]
    public CodeDisplay? Value { get; set; }

    [Parameter]
    public EventCallback<CodeDisplay?> ValueChanged { get; set; }

    [Parameter]
    public string? Label { get; set; }

    [Parameter]
    public bool Dense { get; set; }

    [Parameter]
    public bool ShrinkLabel { get; set; }

    [Parameter]
    public Variant Variant { get; set; }

    [Parameter]
    public Margin Margin { get; set; }


    async Task OnValueChanged() => await ValueChanged.InvokeAsync(Value);
}
