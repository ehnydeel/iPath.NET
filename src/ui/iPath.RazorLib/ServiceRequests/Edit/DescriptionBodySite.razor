@namespace iPath.Blazor.Componenents.ServiceRequests

@if (Group is not null && Group.Settings.DescriptionWithBodySite)
{
    @if (Group.Settings.UseDescriptionWizzard)
    {
        <!--
         <TopoDetailLookup @bind-Concept="Model.BodySite" />
        -->
        <TopoLookup Label="Body Site" @bind-Concept="Model.BodySite" ValueSetId="@vm.TopograhyValueSet"
                    Clearable="true" Variant="Variant.Outlined" Dense="true" ShrinkLabel="true" Margin="@Margin" />
    }
    else
    {
        <TopoLookup Label="Body Site" @bind-Concept="Model.BodySite" ValueSetId="@vm.TopograhyValueSet"
                    Clearable="true" Variant="Variant.Outlined" Dense="true" ShrinkLabel="true" Margin="@Margin" />
    }
}

@inject ServiceRequestViewModel vm

@code {
    [Parameter, EditorRequired]
    public GroupDto Group { get; set; }

    [Parameter, EditorRequired]
    public RequestDescription Model { get; set; }

    [Parameter]
    public Margin Margin { get; set; } = Margin.Dense;

    protected override void OnParametersSet()
    {
        var grp = Group?.Name;
        base.OnParametersSet();
    }
}
